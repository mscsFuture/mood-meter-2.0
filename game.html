<!DOCTYPE html>
<html>
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Mood Meter Class Select Page</title>
	<link rel="stylesheet" href="game.css">
	
	<!-- Blockly Scripts-->
	<script src="https://unpkg.com/blockly/blockly.min.js"></script>
	<script src="https://unpkg.com/blockly"></script>
	<script src="https://unpkg.com/blockly/javascript_compressed"></script>
	<script src="blockly_definitions.js"></script>
	<script src="blockly_code_generator.js"></script>
	<script src="blockly_toolbox.js"></script>
	<script src="blockly_implementation.js"></script>
</head>
<body>
	<div class="header-container">
		
	</div>

	<div class="game-container">
		<div id=blocklyContainer class="blockly-container">
		  <script>
			const workspace = Blockly.inject('blocklyContainer', { toolbox: toolbox });
			// Define the XML for the custom 'start_block'
			const startBlockXml = `<block type="start_block"></block>`;
	
			// Parse the XML text for the custom block using DOMParser
			const domParser = new DOMParser();
			const startBlockDom = domParser.parseFromString(startBlockXml, 'text/xml');
	
			// Add the custom 'start_block' to the existing toolbox configuration
			Blockly.Xml.appendDomToWorkspace(startBlockDom, workspace);
			function updateCode(event) {
			  if (workspace.isDragging()) return;
			  const code = javascript.javascriptGenerator.workspaceToCode(workspace);
			  console.log("Workspace changed!");
			  console.log(code);
			}
			workspace.addChangeListener(updateCode);
		  </script>
		</div>
		<div class="grid-container-wrapper">
			<div id="gridContainer" class="grid-container">
				<!-- grid will be dynamically generated -->
			</div>
		</div>	
	  </div>

	  <script src="emotionMappings.js"></script>
	  <script src="game.js"></script>
	  <script src="blockly_code_generator.js"></script>
	  <script src="blockly_definitions.js"></script>
	  <script src="blockly_implementation.js"></script>
	  <script src="blockly_toolbox.js"></script>
	  <script src="time.js"></script>

</body>
</html>